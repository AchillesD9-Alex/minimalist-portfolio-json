---
import Section from "../Section.astro";

import {projects} from "@cv";
---

<Section title = "Projects">
    <ul>
        {projects.map( ({name, url, usedTech, summary, rol,githubCode, isActive })=> {
            
            return (
                <li>
                    <article>
                        <header>
                            <h3>
                                <a href={url} title={`Take a look at ${name}`}>
                                {name}
                                </a>
                                {
                                isActive && <span>&bull;</span>
                                }
                            </h3>
                                {summary.map((summary) =>   {
                                    return <span>{summary}</span>
                                    })}
                        </header>

                        <footer>
                                {rol.map((rol) =>{
                                    return <span>{rol}</span>
                                })}
                        </footer>                 
                    </article>
                </li>
            )
        })}
    </ul>
</Section>

<style>
    ul{
        /* Linea GOD de CSS: simula responsiv*/
        display: grid;
        grid-template-columns: repeat(
            auto-fit,
            minmax(200px,1fr));
            /* Hace tantas columnas de 200px como pueda; si la columna tuviese menos espacio, la eliminaría y ajustaría las demás (el contenido pasa a la siguiente fila sucesivamente */
        gap: 1rem;
    }

    article{
        border-radius: 8px;
        border: 1px solid #e4e4e4;
        gap: 16px;
        display: flex;
        flex-direction: column;
        padding: 16px;
        height: 100%;
        
    }

    /*Añado span para separar "QUE TIPO de proyecto es" de "QUE PUEDE HACER el proyecto"*/
    article span{ /* Style parecido a <p> de Layout*/
    color: #666;
    font-size: .75rem;
    line-height: 1.2;
    margin: 0;
    text-wrap: pretty;
    display:flex; /*Permite el "enter" entre el array del JSON*/
    margin-bottom: 4px: /*para separacion entre proyectos*/
    }

    /* Iguala el tamaño de los contenedores de cada proyecto, empujando el footer hacia abajo*/
    article header{
        flex: 1;
    }

    article h3 {
    margin-bottom: 4px;
    display: inline-flex; /* Alinea el título y el span en línea */
    align-items: center; /* Alinea verticalmente el punto con el texto */
}

article h3 span {
    color: #329e07df;
    margin-left: 8px; /* Espacio entre el título y el punto */
    font-size: 1.2rem; /* Aumenta el tamaño del punto si es necesario */
}


    article a{
        color: #111; 
    }

    article a:hover{
        text-decoration: underline;
    }
    

    footer{
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        font-size: 0.6rem;
    }

    footer span{
        border-radius: 6px;
        background: #ddd;
        color: #444;
        font-size: 0.8rem;
        font-weight: 500;
        padding: 0.2rem 0.6 rem;
    }


</style>